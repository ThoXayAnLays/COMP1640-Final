<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/1e27f03b11.js" crossorigin="anonymous"></script>
    <link href="../../css/ad_create.css" rel="stylesheet">
    <title>Update user role</title>
</head>



<body>
    <div class="container">
        <center>
            <h4 class="">Update user role</h4>
        </center>
        <div class="bg-white shadow rounded-lg d-block d-sm-flex">
            <div class="profile-tab-nav border-right">
                <div class="p-4">
                    <div class="img-circle text-center mb-3">
                        <img src="{{ternary values values.imgURL edit_user.imgURL}}" alt="Image" class="shadow">
                    </div>
                    <h4 class="text-center" style="color: red; font-size:18px;">{{ternary values values.name edit_user.name}}</h4>
                    <h4 class="text-center" style="color: rgb(16, 14, 14); font-size:14px;"> Work in Greenwich</h4>
                </div>
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active" id="account-tab" data-toggle="pill" href="#account" role="tab"
                        aria-controls="account" aria-selected="true">
                        <i class="fa-brands fa-critical-role"></i>
                        Update user role
                    </a>
                </div>
            </div>
            <div class="tab-content p-4 p-md-5" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="account" role="tabpanel" aria-labelledby="account-tab">
                    <h4 class="mb-4">User Settings <i class="fa fa-cog" aria-hidden="true"></i></h4>
                    <form action="/admin/update" method="post">
                        <input type="hidden" name="id" value="{{ternary values values.id edit_user._id}}">
                        <input type="hidden" name="imgURL" value="{{ternary values values.imgURL edit_user.imgURL}}">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Full Name <i style="color: red;" class="fa fa-address-book"
                                            aria-hidden="true"></i></label>
                                    <input type="text" class="form-control" name="name" value="{{ternary values values.name edit_user.name}}"
                                        readonly>
                                    <span id="error-name"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Username <i style="color: red;" class="fa fa-address-card"
                                            aria-hidden="true"></i></label>
                                    <input type="text" class="form-control" name="username"
                                        value="{{ternary values values.username edit_user.username}}" readonly>
                                    <span id="error-username"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Email <i style="color: red;" class="fa fa-envelope-open"
                                            aria-hidden="true"></i></label>
                                    <input type="text" class="form-control" name="email" value="{{ternary values values.email edit_user.email}}"
                                        readonly>
                                    <span id="error-email"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Phone <i style="color: red;"
                                            class="fa fa-phone text-center mr-1"></i></label>
                                    <input type="text" class="form-control" name="phone" value="{{ternary values values.phone edit_user.phone}}"
                                        readonly>
                                    <span id="error-phone"></span>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="inputrole"> Role <i style="color: red;" class="fa fa-user-circle"
                                            aria-hidden="true"></i></label>
                                    <select id="inputrole" class="form-select" name="role">
                                        <option value="0">Choose Role</option>
                                        <option value="admin">Admin </option>
                                        <option value="staff">Staff</option>
                                        <option value="qa manager">QA Manager</option>
                                        <option value="qc manager">QC Manager</option>
                                    </select>
                                    <span id="error-role"></span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button type="submit" class="btn btn-primary mr-4">Update</button>
                            <a href="/admin/mamage_role" class="btn btn-dark" style="color: aliceblue;">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


    <script>
        // set the selected option to the value of the option
        var role = document.getElementById("inputrole");
        var role_value = "{{edit_user.role}}";
        for (var i = 0; i < role.options.length; i++) {
            if (role.options[i].value == role_value) {
                role.options[i].selected = true;
                break;
            }
        }
        var errors = [{{#each errors }} "{{this}}", {{/each}}]
        var elements = {
                error1: document.getElementById("error-role"),
            }
        for (let i = 0; i < errors.length; i++) {
            if (errors[i] == "Role is required") {
                elements.error1.innerHTML = "Role is required"
            }
        }

    </script>
</body>

</html>