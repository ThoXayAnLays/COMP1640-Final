<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/1e27f03b11.js" crossorigin="anonymous"></script>
    <link href="../../css/ad_create.css" rel="stylesheet">
    <title>Update Campaign</title>
</head>


<body>
    <div class="container">
        <center>
            <h4 class="">Update Campaign</h4>
        </center>
        <div class="bg-white shadow rounded-lg d-block d-sm-flex">
            <div class="profile-tab-nav border-right">
                <div class="p-4">
                    <div class="img-circle text-center mb-3">
                        <img src="https://img.freepik.com/free-vector/targeted-advertisement-campaign-promotional-announcement-customers-attraction-promo-marketer-shouting-loudspeaker-flat-male-character-concept-illustration_335657-1708.jpg?w=2000"
                            alt="Image" class="shadow">
                    </div>
                    <h4 style="color: red;" class="text-center">Update</h4>
                    <h4 class="text-center" style="color: rgb(16, 14, 14); font-size:14px;">Campaign is required</h4>
                </div>
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active" id="account-tab" data-toggle="pill" href="#account" role="tab"
                        aria-controls="account" aria-selected="true">
                        <i class="fa fa-calendar-check-o text-center mr-1"></i>
                        Update campaign
                    </a>
                </div>
            </div>
            <div class="tab-content p-4 p-md-5" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="account" role="tabpanel" aria-labelledby="account-tab">
                    <h4 class="mb-4">Campaign Settings <i class="fa fa-cog" aria-hidden="true"></i></h4>
                    <form action="/admin/update_campaign" method="post">
                        <input type="hidden" name="id" value="{{ternary values values.id edit_campaign._id}}">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Tittle <i style="color: red;" class="fa fa-flag-checkered"
                                            aria-hidden="true"></i></label>
                                    <input type="text" class="form-control" name="title"
                                        value="{{ternary values values.title edit_campaign.title}}" readonly> 
                                    <span id="error-title"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Description <i style="color: red;" class="fa fa-info-circle"
                                            aria-hidden="true"></i></label>
                                    <input type="text" class="form-control" name="description"
                                        value="{{ternary values values.description edit_campaign.description}}" readonly
                                        placeholder="Enter description...">
                                    <span id="error-description"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>First closure date <i style="color: red;" class="fa fa-calendar"
                                            aria-hidden="true"></i></label>
                                    <input type="date" class="form-control" name="first_date"
                                        value="{{ternary values values.first_date edit_campaign.start_date}}" readonly>
                                    <span id="error-first-date"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Final closure date <i style="color: red;" class="fa fa-calendar"
                                            aria-hidden="true"></i></label>
                                    <input type="date" class="form-control" name="final_date"
                                        value="{{ternary values values.final_date edit_campaign.end_date}}">
                                    <span id="error-end-date"></span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button type="submit" class="btn btn-primary mr-4">Update</button>
                            <a href="/admin/campaign" class="btn btn-dark" style="color: aliceblue;">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
        var errors = [{{#each errors}} "{{this}}", {{/each}}]
        var element = document.getElementById('error-end-date')
        for(var i = 0; i < errors.length; i++){
            if(errors[i] == 'Final closure date is required'){
                element.innerHTML = 'Final closure date is required'
                break;
            }
            if(errors[i] == 'Final closure date must be greater than first closure date'){
                element.innerHTML = 'Final closure date must be greater than first closure date'
            }
        }
    </script>
</body>

</html>